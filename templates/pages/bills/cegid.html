{% from "components/btnupload.html" import btnupload %}
{% from "components/table.html" import table %}
{% from "components/logsquare.html" import logsquare %}
{% from "components/btndynamics.html" import btndynamics %}
{% from "components/modaldynamics.html" import modaldynamics %}

{% extends "layouts/main.html" %}

{% set page_title = "Compras Cegid Y2" %}
{% set navbar_title = "Gestion de Facturas > Compras Cegid Y2" %}

{% block main_content %}
<main class="container-fluid mt-3 px-5">
    <div class="d-flex justify-content-between">
        <div class="d-flex w-75 gap-3">
            <div class="d-flex w-75">
                <input type="text" class="form-control form-control-sm" id="in-filename-bills"
                placeholder="Nombre de Archivo..." value="">
            </div>
            <div class="d-flex gap-3 w-100">
                <select id="select-support-bills" class="form-control form-control-sm w-auto" aria-label="Seleccionar formato.">
                    <option selected value="csv">CSV</option>
                    <option value="excel">EXCEL</option>
                    <option value="json">JSON</option>
                    <option value="clipboard">PORTAPAPELES</option>
                </select>
                <div class="d-flex align-items-center gap-2 w-auto form-check px-0">
                    <label for="in-header-bills" class="form-check-label mb-0 pe-4">Encabezados</label>
                    <input type="checkbox" class="form-check-input" id="in-header-bills">
                </div>
                <div class="d-flex align-items-center gap-2 w-25">
                    <label for="in-separator-bills" class="form-label mb-0">Separador:</label>
                    <input type="text" class="form-control form-control-sm" id="in-separator-bills" placeholder="..." value="|">
                </div>
                <div class="d-flex align-items-center gap-2 w-25 d-none">
                    <label for="select-orientjson-bills" class="form-label mb-0">Orientacion:</label>
                    <select id="select-orientjson-bills" class="form-control form-control-sm w-auto" aria-label="Seleccionar Orientacion JSON." hidden>
                        <option selected value="records">Registros</option>
                        <option value="split">Separado</option>
                        <option value="columns">Columnas</option>
                        <option value="values">Valores</option>
                        <option value="table">Tabla</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="d-flex gap-1">
            <button id="btnfullfix-bills" class="btn btn-success">Reparar</button>
            <button id="btndownload-bills" class="btn btn-primary">Descargar</button>
            <button id="btnclear-bills" class="btn btn-danger">Borrar</button>
        </div>
    </div>
    <div class="my-3"></div>
    <div class="d-flex gap-3">
        {{ btnupload("btnupload-bills", height="26vmax") }}
        {{ btndynamics("btndynamics-bills", height="26vmax") }}
    </div>
    {{ table("table-bills") }}
    <div class="my-3"></div>
    {{ logsquare("logsquare-bills", height="12vmax") }}
    <input id="in-file-bills" type="file" class="d-none" />
    {{ modaldynamics("modaldynamics-bills", height="12vmax") }}
</main>
<script type="module">
    const script = new TemplateScript("pages/bills.mjs")
    await script.exec()
</script>
{% endblock %}